import { task, types } from "hardhat/config";
import '@nomiclabs/hardhat-ethers';
import { ContractTransaction } from "ethers";

task("erc1155-create", "Create an ERC-1155")
	.addParam('URI', 'the URI for this 1155')
	.setAction(async (args, hre) => {
		const { uri } = args 

		const ERC1155 = hre.ethers.getContractFactory("ERC1155VulcanizeTest");
		const erc115Instance = await ERC1155.deploy(uri);
		const receipt = await erc1155Instance.deployTransaction.wait()

		console.log("deployed ERC1155 to: ", erc1155Instance.address);

		if (receipt.events) {
			receipt.events.forEach(event => console.log(event.event, event.args)
		}

	});
